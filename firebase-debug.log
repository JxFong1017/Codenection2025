[debug] [2025-09-23T10:32:04.247Z] ----------------------------------------------------------------------
[debug] [2025-09-23T10:32:04.249Z] Command:       /nix/store/ixbb20farqh1f4fqbmsn6b1ixn8mc8ij-nodejs-20.18.1/bin/node /home/user/.global_modules/bin/firebase deploy --only functions
[debug] [2025-09-23T10:32:04.250Z] CLI Version:   14.16.0
[debug] [2025-09-23T10:32:04.250Z] Platform:      linux
[debug] [2025-09-23T10:32:04.250Z] Node Version:  v20.18.1
[debug] [2025-09-23T10:32:04.250Z] Time:          Tue Sep 23 2025 10:32:04 GMT+0000 (Coordinated Universal Time)
[debug] [2025-09-23T10:32:04.251Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-09-23T10:32:04.691Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:04.692Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:04.695Z] >>> [apiv2][query] GET https://monospace-pa.googleapis.com/v1/workspaces/codenection2025git-88637526 [none]
[debug] [2025-09-23T10:32:05.635Z] <<< [apiv2][status] GET https://monospace-pa.googleapis.com/v1/workspaces/codenection2025git-88637526 200
[debug] [2025-09-23T10:32:05.635Z] <<< [apiv2][body] GET https://monospace-pa.googleapis.com/v1/workspaces/codenection2025git-88637526 {"workspaceId":"codenection2025git-88637526","name":"Codenection2025","workspaceRedirectUrl":"firebase-codenection2025git-1758078224819.cluster-ancjwrkgr5dvux4qug5rbzyc2y.cloudworkstations.dev","status":"WORKSPACE_STATUS_RUNNING","lastAccessDatetime":"2025-09-23T10:17:27.491269Z","workspaceTemplate":"WORKSPACE_TEMPLATE_BLANK_WEB","owner":"SELF","serviceAccountEmail":"msp-1682198564480004405@monospace-per-ws-sa-10.iam.gserviceaccount.com","gitRepoUrl":"https://github.com/JxFong1017/Codenection2025.git","enableNix":true,"ownerEmail":"jxfong357@gmail.com","workstationAccessToken":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vd29ya3N0YXRpb25zIiwiYXVkIjoiZmlyZWJhc2UtY29kZW5lY3Rpb24yMDI1Z2l0LTE3NTgwNzgyMjQ4MTkuY2x1c3Rlci1hbmNqd3JrZ3I1ZHZ1eDRxdWc1cmJ6eWMyeS5jbG91ZHdvcmtzdGF0aW9ucy5kZXYiLCJpYXQiOjE3NTg2MjM1MjUsImV4cCI6MTc1ODcwOTkyNX0.L7XjphlMwK7OUm6tN-i1QHbfx_Zj6y1jn7XCkaAqI842xNNhMjP_MeTuaLCEXhYIboc_VtLcvP1DDcN30i0IioP7FtCO_GuDibdEzzXDfNTeizp-hrBVA2LTOZNDWCADhCcDgqYzILAWcxW0xK1LFIAq-9iZHs6dh7IMMEyfEgWu5_o-MylIFsRGEaztLLpZBaDmHy8dUytGCfLuqjOYjTEABOD-XbJMMWhLHvA2plVydd8iMMRiWq2WKvc1jYKJTzWpwyJoThHSjF2IpzCVGE4cWI-XxFbpK2mhQ5NL-gz45ND_BJ-jOrEDF8qkYTnoHNnW5tMj8r93_kHX_6f_4g","firebaseProjectId":"codenection2025-19a07"}
[debug] [2025-09-23T10:32:05.638Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-09-23T10:32:05.640Z] > authorizing via signed-in user (jxfong357@gmail.com)
[debug] [2025-09-23T10:32:05.641Z] [iam] checking project codenection2025-19a07 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-09-23T10:32:05.641Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:05.641Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:05.641Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions [none]
[debug] [2025-09-23T10:32:05.642Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions x-goog-quota-user=projects/codenection2025-19a07
[debug] [2025-09-23T10:32:05.642Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-23T10:32:06.408Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions 200
[debug] [2025-09-23T10:32:06.408Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-23T10:32:06.409Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:06.409Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:06.409Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/codenection2025-19a07/serviceAccounts/codenection2025-19a07@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-09-23T10:32:06.410Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/codenection2025-19a07/serviceAccounts/codenection2025-19a07@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-09-23T10:32:07.423Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/codenection2025-19a07/serviceAccounts/codenection2025-19a07@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-09-23T10:32:07.423Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/codenection2025-19a07/serviceAccounts/codenection2025-19a07@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'codenection2025-19a07'...
[info] 
[info] i  deploying functions 
[debug] [2025-09-23T10:32:07.430Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:07.430Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:07.430Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07 [none]
[debug] [2025-09-23T10:32:07.633Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07 200
[debug] [2025-09-23T10:32:07.634Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07 {"projectNumber":"177603922659","projectId":"codenection2025-19a07","lifecycleState":"ACTIVE","name":"Codenection2025","labels":{"firebase":"enabled","firebase-core":"disabled","generative-language":"enabled"},"createTime":"2025-09-17T05:24:27.145377Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-09-23T10:32:07.644Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:07.645Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:07.645Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/codenection2025-19a07/adminSdkConfig [none]
[debug] [2025-09-23T10:32:07.903Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/codenection2025-19a07/adminSdkConfig 200
[debug] [2025-09-23T10:32:07.903Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/codenection2025-19a07/adminSdkConfig {"projectId":"codenection2025-19a07","storageBucket":"codenection2025-19a07.firebasestorage.app"}
[debug] [2025-09-23T10:32:07.905Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:07.905Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:07.905Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs [none]
[debug] [2025-09-23T10:32:08.141Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs 200
[debug] [2025-09-23T10:32:08.141Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs {"configs":[{"name":"projects/codenection2025-19a07/configs/gemini"},{"name":"projects/codenection2025-19a07/configs/brevo"}]}
[debug] [2025-09-23T10:32:08.143Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:08.143Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:08.143Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:08.143Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:08.143Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/gemini/variables [none]
[debug] [2025-09-23T10:32:08.144Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/brevo/variables [none]
[debug] [2025-09-23T10:32:08.348Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/brevo/variables 200
[debug] [2025-09-23T10:32:08.348Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/brevo/variables {"variables":[{"name":"projects/codenection2025-19a07/configs/brevo/variables/key","updateTime":"2025-09-18T06:19:31.068465374Z"}]}
[debug] [2025-09-23T10:32:08.349Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:08.349Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:08.349Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/brevo/variables/key [none]
[debug] [2025-09-23T10:32:08.601Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/brevo/variables/key 200
[debug] [2025-09-23T10:32:08.602Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/brevo/variables/key {"name":"projects/codenection2025-19a07/configs/brevo/variables/key","updateTime":"2025-09-18T06:19:31.068465374Z","text":"eyJhcGlfa2V5IjoieGtleXNpYi0zZDZiYTQxMTljMjEyNWVmOTIzNWFkZWIxYWNmYjgzYzE5NzU5ZjhmNDMxMTdhZTMxZDc5ZjA2MDFiZmRhYTc3LWQwZUZmY3pYQ1NUemlVQm0ifQ=="}
[debug] [2025-09-23T10:32:08.959Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/gemini/variables 200
[debug] [2025-09-23T10:32:08.960Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/gemini/variables {"variables":[{"name":"projects/codenection2025-19a07/configs/gemini/variables/api_key","updateTime":"2025-09-20T20:43:52.717778825Z"}]}
[debug] [2025-09-23T10:32:08.960Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:08.960Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:08.961Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/gemini/variables/api_key [none]
[debug] [2025-09-23T10:32:09.279Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/gemini/variables/api_key 200
[debug] [2025-09-23T10:32:09.280Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/gemini/variables/api_key {"name":"projects/codenection2025-19a07/configs/gemini/variables/api_key","updateTime":"2025-09-20T20:43:52.717778825Z","text":"AIzaSyA_nBh0R6CRGM3-dXFQ9CxZ0RBLX8FKzK0"}
[debug] [2025-09-23T10:32:09.287Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-09-23T10:32:09.992Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "@google/generative-ai": "^0.24.1",
    "firebase-admin": "^12.0.0",
    "firebase-functions": "^5.0.0",
    "nodemailer": "^6.9.14",
    "puppeteer": "^22.12.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-09-23T10:32:09.993Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-09-23T10:32:09.997Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-09-23T10:32:10.007Z] Found firebase-functions binary at '/home/user/Codenection2025/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8787

[debug] [2025-09-23T10:32:10.746Z] Got response from /__/functions.yaml {"endpoints":{"chatAssistant":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","region":["us-central1"],"labels":{},"httpsTrigger":{},"entryPoint":"chatAssistant"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-09-23T10:32:14.794Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-09-23T10:32:14.794Z] > authorizing via signed-in user (jxfong357@gmail.com)
[debug] [2025-09-23T10:32:14.794Z] [iam] checking project codenection2025-19a07 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-09-23T10:32:14.794Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:14.794Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:14.795Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions [none]
[debug] [2025-09-23T10:32:14.795Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions x-goog-quota-user=projects/codenection2025-19a07
[debug] [2025-09-23T10:32:14.795Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-09-23T10:32:15.574Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions 200
[debug] [2025-09-23T10:32:15.574Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-09-23T10:32:15.576Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:15.576Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:15.576Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/codenection2025-19a07/instances pageSize=100&pageToken=
[debug] [2025-09-23T10:32:16.500Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/codenection2025-19a07/instances 200
[debug] [2025-09-23T10:32:16.503Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/codenection2025-19a07/instances {}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /home/user/Codenection2025/functions (84.66 KB) for uploading 
[debug] [2025-09-23T10:32:16.584Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:16.584Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:16.585Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/codenection2025-19a07/locations/-/functions [none]
[debug] [2025-09-23T10:32:17.310Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/codenection2025-19a07/locations/-/functions 200
[debug] [2025-09-23T10:32:17.312Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/codenection2025-19a07/locations/-/functions {}
[debug] [2025-09-23T10:32:17.313Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:17.313Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:17.315Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-09-23T10:32:18.562Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/-/functions 200
[debug] [2025-09-23T10:32:18.562Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/-/functions {"functions":[{"name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"build":"projects/177603922659/locations/us-central1/builds/c938ea15-a02a-4e54-86fd-6e3d988ed79e","runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758403353993686"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758403353993686"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"maxInstanceCount":20,"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00001-pop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-09-23T10:13:58.133747161Z","labels":{"firebase-functions-hash":"a03b00c2dce088139e2643cac5a36ea4c15d5109","deployment-tool":"cli-firebase--project-idx"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","createTime":"2025-09-20T21:22:34.198661687Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-09-23T10:32:18.574Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:18.574Z] Checked if tokens are valid: true, expires at: 1758625737760
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-09-23T10:32:18.575Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:18.575Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:18.575Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-09-23T10:32:18.575Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/pubsub.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/177603922659
[debug] [2025-09-23T10:32:18.575Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/pubsub.googleapis.com:generateServiceIdentity {}
[debug] [2025-09-23T10:32:18.576Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-09-23T10:32:18.576Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/eventarc.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/177603922659
[debug] [2025-09-23T10:32:18.576Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/eventarc.googleapis.com:generateServiceIdentity {}
[debug] [2025-09-23T10:32:19.640Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-09-23T10:32:19.640Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-177603922659@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"113734248418452431314"}}
[debug] [2025-09-23T10:32:19.680Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-09-23T10:32:19.681Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-177603922659@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"106757931509064995825"}}
[debug] [2025-09-23T10:32:19.689Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:19.689Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:19.690Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07 [none]
[debug] [2025-09-23T10:32:19.891Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07 200
[debug] [2025-09-23T10:32:19.891Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07 {"projectNumber":"177603922659","projectId":"codenection2025-19a07","lifecycleState":"ACTIVE","name":"Codenection2025","labels":{"firebase":"enabled","firebase-core":"disabled","generative-language":"enabled"},"createTime":"2025-09-17T05:24:27.145377Z"}
[debug] [2025-09-23T10:32:19.894Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:19.894Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:19.895Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/177603922659 [none]
[debug] [2025-09-23T10:32:20.103Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/177603922659 403
[debug] [2025-09-23T10:32:20.103Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/177603922659 {"error":{"code":403,"message":"Compute Engine API has not been used in project 177603922659 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 177603922659 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"service":"compute.googleapis.com","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659","consumer":"projects/177603922659","serviceTitle":"Compute Engine API","containerInfo":"177603922659"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 177603922659 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659"}]}]}}
[debug] [2025-09-23T10:32:20.105Z] unable to look up default compute service account. Falling back to 177603922659-compute@developer.gserviceaccount.com. Error: {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":403,"message":"Compute Engine API has not been used in project 177603922659 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 177603922659 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"service":"compute.googleapis.com","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659","consumer":"projects/177603922659","serviceTitle":"Compute Engine API","containerInfo":"177603922659"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 177603922659 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659"}]}]}},"response":{"statusCode":403}},"exit":1,"message":"Request to https://compute.googleapis.com/compute/v1/projects/177603922659 had HTTP Error: 403, Compute Engine API has not been used in project 177603922659 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","status":403}
[debug] [2025-09-23T10:32:20.109Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:20.109Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:20.109Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/codenection2025-19a07/billingInfo [none]
[debug] [2025-09-23T10:32:21.416Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/codenection2025-19a07/billingInfo 200
[debug] [2025-09-23T10:32:21.417Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/codenection2025-19a07/billingInfo {"name":"projects/codenection2025-19a07/billingInfo","projectId":"codenection2025-19a07","billingAccountName":"billingAccounts/0146CB-07DAE9-F82ED4","billingEnabled":true}
[debug] [2025-09-23T10:32:21.422Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:21.422Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:21.423Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-09-23T10:32:22.502Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-09-23T10:32:22.502Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-177603922659.us-central1.cloudfunctions.appspot.com/d9b6e521-9d79-4cfa-bb9a-70c2fc92e9a6.zip?GoogleAccessId=service-177603922659@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758625342&Signature=RnqmptQy%2FJowUDaA3LJNSZX6vJCNNTunXQ5Y79MEwg%2FxsksPjTTR0G%2Bpb8IZyncwS6NKPxVZ5T7BQWLvo3fWqsmfH6booIGfKfOO20eTdbHl%2BQOPa0x686nYjsfZdZwp8Q8uBI6IJ1z4CzOevpKS14Q%2FSx7rUNLFUcWbS4LbC7QBufPcY%2Fo4BJBLcN%2FS49QFfdHS8Z6a3UxVpNcYyc9VID58vMDhuDXthuPgqf02UENRFvxR107LEnpCY67i6VNkHjIFBgTOqFhFmtvYGkZYuqgaPYkQM2wh%2BF0UrMoDfHbflZ52OxkxuLBeZkh4IEVKNVC%2FPxGZHUbDT0ThOWZ%2Bqg%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-177603922659.us-central1.cloudfunctions.appspot.com","object":"d9b6e521-9d79-4cfa-bb9a-70c2fc92e9a6.zip"}}
[debug] [2025-09-23T10:32:22.506Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-177603922659.us-central1.cloudfunctions.appspot.com/d9b6e521-9d79-4cfa-bb9a-70c2fc92e9a6.zip GoogleAccessId=service-177603922659%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1758625342&Signature=RnqmptQy%2FJowUDaA3LJNSZX6vJCNNTunXQ5Y79MEwg%2FxsksPjTTR0G%2Bpb8IZyncwS6NKPxVZ5T7BQWLvo3fWqsmfH6booIGfKfOO20eTdbHl%2BQOPa0x686nYjsfZdZwp8Q8uBI6IJ1z4CzOevpKS14Q%2FSx7rUNLFUcWbS4LbC7QBufPcY%2Fo4BJBLcN%2FS49QFfdHS8Z6a3UxVpNcYyc9VID58vMDhuDXthuPgqf02UENRFvxR107LEnpCY67i6VNkHjIFBgTOqFhFmtvYGkZYuqgaPYkQM2wh%2BF0UrMoDfHbflZ52OxkxuLBeZkh4IEVKNVC%2FPxGZHUbDT0ThOWZ%2Bqg%3D%3D
[debug] [2025-09-23T10:32:22.506Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-177603922659.us-central1.cloudfunctions.appspot.com/d9b6e521-9d79-4cfa-bb9a-70c2fc92e9a6.zip [stream]
[debug] [2025-09-23T10:32:23.684Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-177603922659.us-central1.cloudfunctions.appspot.com/d9b6e521-9d79-4cfa-bb9a-70c2fc92e9a6.zip 200
[debug] [2025-09-23T10:32:23.685Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-177603922659.us-central1.cloudfunctions.appspot.com/d9b6e521-9d79-4cfa-bb9a-70c2fc92e9a6.zip [omitted]
[info] ✔  functions: functions source uploaded successfully 
[info] i  functions: updating Node.js 20 (2nd Gen) function chatAssistant(us-central1)... 
[debug] [2025-09-23T10:32:23.692Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:23.692Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:23.692Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels
[debug] [2025-09-23T10:32:23.692Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant {"name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-uploads-177603922659.us-central1.cloudfunctions.appspot.com","object":"d9b6e521-9d79-4cfa-bb9a-70c2fc92e9a6.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"bc9748a8c9d00aa544d63c0ce128dad2c262955f"}}
[debug] [2025-09-23T10:32:25.587Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant 200
[debug] [2025-09-23T10:32:25.587Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:32:25.493822025Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-09-23T10:32:25.588Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:25.588Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:25.589Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 [none]
[debug] [2025-09-23T10:32:26.525Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 200
[debug] [2025-09-23T10:32:26.525Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:32:25.493822025Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623545430576"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758403353993686"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00001-pop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"bc9748a8c9d00aa544d63c0ce128dad2c262955f"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2025-09-23T10:32:27.026Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:32:27.027Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:27.027Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:27.027Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 [none]
[debug] [2025-09-23T10:32:27.983Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 200
[debug] [2025-09-23T10:32:27.984Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:32:25.493822025Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623545430576"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758403353993686"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00001-pop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"bc9748a8c9d00aa544d63c0ce128dad2c262955f"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/9f4df35d-04d5-4131-b9ce-7657fc154ab1?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1"},"done":false}
[debug] [2025-09-23T10:32:28.984Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:32:28.984Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:28.984Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:28.984Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 [none]
[debug] [2025-09-23T10:32:29.945Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 200
[debug] [2025-09-23T10:32:29.949Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:32:25.493822025Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623545430576"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758403353993686"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00001-pop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"bc9748a8c9d00aa544d63c0ce128dad2c262955f"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/9f4df35d-04d5-4131-b9ce-7657fc154ab1?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1"},"done":false}
[debug] [2025-09-23T10:32:31.951Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:32:31.953Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:31.954Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:31.954Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 [none]
[debug] [2025-09-23T10:32:32.992Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 200
[debug] [2025-09-23T10:32:32.993Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:32:25.493822025Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623545430576"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758403353993686"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00001-pop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"bc9748a8c9d00aa544d63c0ce128dad2c262955f"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/9f4df35d-04d5-4131-b9ce-7657fc154ab1?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1"},"done":false}
[debug] [2025-09-23T10:32:36.994Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:32:36.997Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:36.998Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:36.998Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 [none]
[debug] [2025-09-23T10:32:38.000Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 200
[debug] [2025-09-23T10:32:38.003Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:32:25.493822025Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623545430576"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758403353993686"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00001-pop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"bc9748a8c9d00aa544d63c0ce128dad2c262955f"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/9f4df35d-04d5-4131-b9ce-7657fc154ab1?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1"},"done":false}
[debug] [2025-09-23T10:32:46.005Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:32:46.006Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:46.007Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:46.007Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 [none]
[debug] [2025-09-23T10:32:46.983Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 200
[debug] [2025-09-23T10:32:46.984Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:32:25.493822025Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623545430576"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758403353993686"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00001-pop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"bc9748a8c9d00aa544d63c0ce128dad2c262955f"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/9f4df35d-04d5-4131-b9ce-7657fc154ab1?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1"},"done":false}
[debug] [2025-09-23T10:32:56.989Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:32:56.990Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:56.990Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:32:56.990Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 [none]
[debug] [2025-09-23T10:32:57.965Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 200
[debug] [2025-09-23T10:32:57.966Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:32:25.493822025Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623545430576"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758403353993686"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00001-pop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"bc9748a8c9d00aa544d63c0ce128dad2c262955f"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/9f4df35d-04d5-4131-b9ce-7657fc154ab1?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1"},"done":false}
[debug] [2025-09-23T10:33:07.972Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:33:07.973Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:33:07.975Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:33:07.976Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 [none]
[debug] [2025-09-23T10:33:08.973Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 200
[debug] [2025-09-23T10:33:08.975Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:32:25.493822025Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623545430576"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758403353993686"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00001-pop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"bc9748a8c9d00aa544d63c0ce128dad2c262955f"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/9f4df35d-04d5-4131-b9ce-7657fc154ab1?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1"},"done":false}
[debug] [2025-09-23T10:33:18.981Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:33:18.984Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:33:18.984Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:33:18.984Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 [none]
[debug] [2025-09-23T10:33:19.947Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 200
[debug] [2025-09-23T10:33:19.949Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:32:25.493822025Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623545430576"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758403353993686"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00001-pop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"bc9748a8c9d00aa544d63c0ce128dad2c262955f"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/9f4df35d-04d5-4131-b9ce-7657fc154ab1?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1"},"done":false}
[debug] [2025-09-23T10:33:29.956Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:33:29.956Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:33:29.956Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:33:29.957Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 [none]
[debug] [2025-09-23T10:33:30.940Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 200
[debug] [2025-09-23T10:33:30.941Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:32:25.493822025Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623545430576"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758403353993686"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00001-pop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"bc9748a8c9d00aa544d63c0ce128dad2c262955f"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/9f4df35d-04d5-4131-b9ce-7657fc154ab1?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1"},"done":false}
[debug] [2025-09-23T10:33:40.947Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:33:40.947Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:33:40.947Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:33:40.948Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 [none]
[debug] [2025-09-23T10:33:41.910Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 200
[debug] [2025-09-23T10:33:41.914Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:32:25.493822025Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623545430576"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758403353993686"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00001-pop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"bc9748a8c9d00aa544d63c0ce128dad2c262955f"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/9f4df35d-04d5-4131-b9ce-7657fc154ab1?project=177603922659"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/chatassistant?project=codenection2025-19a07","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Cldwcm9qZWN0cy8xNzc2MDM5MjI2NTkvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy85ZjRkZjM1ZC0wNGQ1LTQxMzEtYjljZS03NjU3ZmMxNTRhYjESfXVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2NvZGVuZWN0aW9uMjAyNS0xOWEwNy9nY2YtYXJ0aWZhY3RzL2NvZGVuZWN0aW9uMjAyNS0tMTlhMDdfX3VzLS1jZW50cmFsMV9fY2hhdF9hc3Npc3RhbnQ6dmVyc2lvbl8xGOOVk9CVBSJMcHJvamVjdHMvY29kZW5lY3Rpb24yMDI1LTE5YTA3L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvY2hhdEFzc2lzdGFudCoLCPzuycYGELjvs34yCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1"},"done":false}
[debug] [2025-09-23T10:33:41.915Z] Got source token Cldwcm9qZWN0cy8xNzc2MDM5MjI2NTkvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy85ZjRkZjM1ZC0wNGQ1LTQxMzEtYjljZS03NjU3ZmMxNTRhYjESfXVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2NvZGVuZWN0aW9uMjAyNS0xOWEwNy9nY2YtYXJ0aWZhY3RzL2NvZGVuZWN0aW9uMjAyNS0tMTlhMDdfX3VzLS1jZW50cmFsMV9fY2hhdF9hc3Npc3RhbnQ6dmVyc2lvbl8xGOOVk9CVBSJMcHJvamVjdHMvY29kZW5lY3Rpb24yMDI1LTE5YTA3L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvY2hhdEFzc2lzdGFudCoLCPzuycYGELjvs34yCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2025-09-23T10:33:51.920Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:33:51.920Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:33:51.920Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:33:51.920Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 [none]
[debug] [2025-09-23T10:33:52.873Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 200
[debug] [2025-09-23T10:33:52.874Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:32:25.493822025Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623545430576"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758403353993686"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00001-pop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"bc9748a8c9d00aa544d63c0ce128dad2c262955f"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/9f4df35d-04d5-4131-b9ce-7657fc154ab1?project=177603922659"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/chatassistant?project=codenection2025-19a07","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Cldwcm9qZWN0cy8xNzc2MDM5MjI2NTkvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy85ZjRkZjM1ZC0wNGQ1LTQxMzEtYjljZS03NjU3ZmMxNTRhYjESfXVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2NvZGVuZWN0aW9uMjAyNS0xOWEwNy9nY2YtYXJ0aWZhY3RzL2NvZGVuZWN0aW9uMjAyNS0tMTlhMDdfX3VzLS1jZW50cmFsMV9fY2hhdF9hc3Npc3RhbnQ6dmVyc2lvbl8xGOOVk9CVBSJMcHJvamVjdHMvY29kZW5lY3Rpb24yMDI1LTE5YTA3L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvY2hhdEFzc2lzdGFudCoLCPzuycYGELjvs34yCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1"},"done":false}
[debug] [2025-09-23T10:33:52.874Z] Got source token Cldwcm9qZWN0cy8xNzc2MDM5MjI2NTkvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy85ZjRkZjM1ZC0wNGQ1LTQxMzEtYjljZS03NjU3ZmMxNTRhYjESfXVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2NvZGVuZWN0aW9uMjAyNS0xOWEwNy9nY2YtYXJ0aWZhY3RzL2NvZGVuZWN0aW9uMjAyNS0tMTlhMDdfX3VzLS1jZW50cmFsMV9fY2hhdF9hc3Npc3RhbnQ6dmVyc2lvbl8xGOOVk9CVBSJMcHJvamVjdHMvY29kZW5lY3Rpb24yMDI1LTE5YTA3L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvY2hhdEFzc2lzdGFudCoLCPzuycYGELjvs34yCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2025-09-23T10:34:02.881Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:34:02.881Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:34:02.881Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:34:02.881Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 [none]
[debug] [2025-09-23T10:34:03.854Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 200
[debug] [2025-09-23T10:34:03.857Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:32:25.493822025Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623545430576"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758403353993686"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00001-pop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"bc9748a8c9d00aa544d63c0ce128dad2c262955f"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/9f4df35d-04d5-4131-b9ce-7657fc154ab1?project=177603922659"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/chatassistant?project=codenection2025-19a07","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Cldwcm9qZWN0cy8xNzc2MDM5MjI2NTkvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy85ZjRkZjM1ZC0wNGQ1LTQxMzEtYjljZS03NjU3ZmMxNTRhYjESfXVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2NvZGVuZWN0aW9uMjAyNS0xOWEwNy9nY2YtYXJ0aWZhY3RzL2NvZGVuZWN0aW9uMjAyNS0tMTlhMDdfX3VzLS1jZW50cmFsMV9fY2hhdF9hc3Npc3RhbnQ6dmVyc2lvbl8xGOOVk9CVBSJMcHJvamVjdHMvY29kZW5lY3Rpb24yMDI1LTE5YTA3L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvY2hhdEFzc2lzdGFudCoLCPzuycYGELjvs34yCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1"},"done":false}
[debug] [2025-09-23T10:34:03.857Z] Got source token Cldwcm9qZWN0cy8xNzc2MDM5MjI2NTkvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy85ZjRkZjM1ZC0wNGQ1LTQxMzEtYjljZS03NjU3ZmMxNTRhYjESfXVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2NvZGVuZWN0aW9uMjAyNS0xOWEwNy9nY2YtYXJ0aWZhY3RzL2NvZGVuZWN0aW9uMjAyNS0tMTlhMDdfX3VzLS1jZW50cmFsMV9fY2hhdF9hc3Npc3RhbnQ6dmVyc2lvbl8xGOOVk9CVBSJMcHJvamVjdHMvY29kZW5lY3Rpb24yMDI1LTE5YTA3L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvY2hhdEFzc2lzdGFudCoLCPzuycYGELjvs34yCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2025-09-23T10:34:13.863Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:34:13.864Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:34:13.864Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:34:13.864Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 [none]
[debug] [2025-09-23T10:34:14.809Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 200
[debug] [2025-09-23T10:34:14.809Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:32:25.493822025Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623545430576"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758403353993686"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00001-pop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"bc9748a8c9d00aa544d63c0ce128dad2c262955f"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/9f4df35d-04d5-4131-b9ce-7657fc154ab1?project=177603922659"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/chatassistant?project=codenection2025-19a07","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Cldwcm9qZWN0cy8xNzc2MDM5MjI2NTkvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy85ZjRkZjM1ZC0wNGQ1LTQxMzEtYjljZS03NjU3ZmMxNTRhYjESfXVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2NvZGVuZWN0aW9uMjAyNS0xOWEwNy9nY2YtYXJ0aWZhY3RzL2NvZGVuZWN0aW9uMjAyNS0tMTlhMDdfX3VzLS1jZW50cmFsMV9fY2hhdF9hc3Npc3RhbnQ6dmVyc2lvbl8xGOOVk9CVBSJMcHJvamVjdHMvY29kZW5lY3Rpb24yMDI1LTE5YTA3L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvY2hhdEFzc2lzdGFudCoLCPzuycYGELjvs34yCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1"},"done":false}
[debug] [2025-09-23T10:34:14.810Z] Got source token Cldwcm9qZWN0cy8xNzc2MDM5MjI2NTkvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy85ZjRkZjM1ZC0wNGQ1LTQxMzEtYjljZS03NjU3ZmMxNTRhYjESfXVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2NvZGVuZWN0aW9uMjAyNS0xOWEwNy9nY2YtYXJ0aWZhY3RzL2NvZGVuZWN0aW9uMjAyNS0tMTlhMDdfX3VzLS1jZW50cmFsMV9fY2hhdF9hc3Npc3RhbnQ6dmVyc2lvbl8xGOOVk9CVBSJMcHJvamVjdHMvY29kZW5lY3Rpb24yMDI1LTE5YTA3L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvY2hhdEFzc2lzdGFudCoLCPzuycYGELjvs34yCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2025-09-23T10:34:24.814Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:34:24.815Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:34:24.815Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:34:24.816Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 [none]
[debug] [2025-09-23T10:34:25.767Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 200
[debug] [2025-09-23T10:34:25.767Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141 {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623544558-63f7573aac352-6be05b97-005cf141","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:32:25.493822025Z","endTime":"2025-09-23T10:34:21.081797827Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623545430576"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758403353993686"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00001-pop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"bc9748a8c9d00aa544d63c0ce128dad2c262955f"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service chatassistant, Container Healthcheck failed. Revision 'chatassistant-00002-tug' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=codenection2025-19a07&resource=cloud_run_revision/service_name/chatassistant/revision_name/chatassistant-00002-tug&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22chatassistant%22%0Aresource.labels.revision_name%3D%22chatassistant-00002-tug%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-09-23T10:34:25.767Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service chatassistant, Container Healthcheck failed. Revision 'chatassistant-00002-tug' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=codenection2025-19a07&resource=cloud_run_revision/service_name/chatassistant/revision_name/chatassistant-00002-tug&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22chatassistant%22%0Aresource.labels.revision_name%3D%22chatassistant-00002-tug%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-09-23T10:34:25.804Z] Total Function Deployment time: 122088
[debug] [2025-09-23T10:34:25.804Z] 1 Functions Deployed
[debug] [2025-09-23T10:34:25.804Z] 1 Functions Errored
[debug] [2025-09-23T10:34:25.804Z] 0 Function Deployments Aborted
[debug] [2025-09-23T10:34:25.804Z] Average Function Deployment time: 122087
[info] 
[info] Functions deploy had errors with the following functions:
	chatAssistant(us-central1)
[debug] [2025-09-23T10:34:25.847Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[debug] [2025-09-23T10:34:25.848Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:34:25.848Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:34:25.850Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-09-23T10:34:26.813Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-09-23T10:34:26.816Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts {"name":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-09-20T20:09:47.853453Z","updateTime":"2025-09-23T10:33:29.718235Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"sizeBytes":"100909958","vulnerabilityScanningConfig":{"lastEnableTime":"2025-09-20T20:09:39.563104096Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/codenection2025-19a07/gcf-artifacts"}
[debug] [2025-09-23T10:34:26.817Z] Functions deploy failed.
[debug] [2025-09-23T10:34:26.819Z] {
  "endpoint": {
    "id": "chatAssistant",
    "project": "codenection2025-19a07",
    "region": "us-central1",
    "entryPoint": "chatAssistant",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase--project-idx"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "GEMINI_API_KEY": "AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo",
      "FIREBASE_CONFIG": "{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "codenection2025-19a07",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/codenection2025-19a07/locations/us-central1/services/chatAssistant"
    },
    "codebase": "default",
    "runServiceId": "chatassistant",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "bc9748a8c9d00aa544d63c0ce128dad2c262955f"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service chatassistant, Container Healthcheck failed. Revision 'chatassistant-00002-tug' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=codenection2025-19a07&resource=cloud_run_revision/service_name/chatassistant/revision_name/chatassistant-00002-tug&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22chatassistant%22%0Aresource.labels.revision_name%3D%22chatassistant-00002-tug%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service chatassistant, Container Healthcheck failed. Revision 'chatassistant-00002-tug' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=codenection2025-19a07&resource=cloud_run_revision/service_name/chatassistant/revision_name/chatassistant-00002-tug&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22chatassistant%22%0Aresource.labels.revision_name%3D%22chatassistant-00002-tug%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-09-23T10:34:26.828Z] Error: Failed to update function chatAssistant in region us-central1
    at /home/user/.global_modules/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:411:19
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.updateV2Function (/home/user/.global_modules/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:400:32)
    at async Fabricator.updateEndpoint (/home/user/.global_modules/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:160:13)
    at async handle (/home/user/.global_modules/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2025-09-23T10:35:50.261Z] ----------------------------------------------------------------------
[debug] [2025-09-23T10:35:50.263Z] Command:       /nix/store/ixbb20farqh1f4fqbmsn6b1ixn8mc8ij-nodejs-20.18.1/bin/node /home/user/.global_modules/bin/firebase deploy --only functions
[debug] [2025-09-23T10:35:50.264Z] CLI Version:   14.16.0
[debug] [2025-09-23T10:35:50.264Z] Platform:      linux
[debug] [2025-09-23T10:35:50.264Z] Node Version:  v20.18.1
[debug] [2025-09-23T10:35:50.264Z] Time:          Tue Sep 23 2025 10:35:50 GMT+0000 (Coordinated Universal Time)
[debug] [2025-09-23T10:35:50.264Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-09-23T10:35:50.594Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:50.594Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:50.597Z] >>> [apiv2][query] GET https://monospace-pa.googleapis.com/v1/workspaces/codenection2025git-88637526 [none]
[debug] [2025-09-23T10:35:51.686Z] <<< [apiv2][status] GET https://monospace-pa.googleapis.com/v1/workspaces/codenection2025git-88637526 200
[debug] [2025-09-23T10:35:51.687Z] <<< [apiv2][body] GET https://monospace-pa.googleapis.com/v1/workspaces/codenection2025git-88637526 {"workspaceId":"codenection2025git-88637526","name":"Codenection2025","workspaceRedirectUrl":"firebase-codenection2025git-1758078224819.cluster-ancjwrkgr5dvux4qug5rbzyc2y.cloudworkstations.dev","status":"WORKSPACE_STATUS_RUNNING","lastAccessDatetime":"2025-09-23T10:17:27.491269Z","workspaceTemplate":"WORKSPACE_TEMPLATE_BLANK_WEB","owner":"SELF","serviceAccountEmail":"msp-1682198564480004405@monospace-per-ws-sa-10.iam.gserviceaccount.com","gitRepoUrl":"https://github.com/JxFong1017/Codenection2025.git","enableNix":true,"ownerEmail":"jxfong357@gmail.com","workstationAccessToken":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vd29ya3N0YXRpb25zIiwiYXVkIjoiZmlyZWJhc2UtY29kZW5lY3Rpb24yMDI1Z2l0LTE3NTgwNzgyMjQ4MTkuY2x1c3Rlci1hbmNqd3JrZ3I1ZHZ1eDRxdWc1cmJ6eWMyeS5jbG91ZHdvcmtzdGF0aW9ucy5kZXYiLCJpYXQiOjE3NTg2MjM3NTEsImV4cCI6MTc1ODcxMDE1MX0.vT-vAm0SdPxMd6zTYDA4V0eMYgotowgmDYoAmMGny0D46ALubj8UnzmRc2NDiCO6noRFKAWThN9tZuFMuI3zz1d0mprv_r2rXbLN8bOM716pqn_PGlPaxg7uXmiwRFH5qI3UYTApcs0rT7y3x8Rzc5UMYGOvN0W-zTlRA08jINgJSwUEh7EQcoEEuRiT6ddBq2qT_fb7V5_GhtkeDNf1faA0NQxlbVO7xdUsbWvsIXioLcFs3abxBFvTqVp0qlnUciXas98sN1TSX9OcqiacO_etyIe481irFTl-OxxVhwnv7eAGUOnaHYu3JMwH8EwITNCglRbifcGeFhCyxXwiwQ","firebaseProjectId":"codenection2025-19a07"}
[debug] [2025-09-23T10:35:51.689Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-09-23T10:35:51.690Z] > authorizing via signed-in user (jxfong357@gmail.com)
[debug] [2025-09-23T10:35:51.690Z] [iam] checking project codenection2025-19a07 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-09-23T10:35:51.691Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:51.691Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:51.691Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions [none]
[debug] [2025-09-23T10:35:51.691Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions x-goog-quota-user=projects/codenection2025-19a07
[debug] [2025-09-23T10:35:51.691Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-23T10:35:52.459Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions 200
[debug] [2025-09-23T10:35:52.459Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-23T10:35:52.461Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:52.461Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:52.461Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/codenection2025-19a07/serviceAccounts/codenection2025-19a07@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-09-23T10:35:52.461Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/codenection2025-19a07/serviceAccounts/codenection2025-19a07@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-09-23T10:35:53.503Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/codenection2025-19a07/serviceAccounts/codenection2025-19a07@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-09-23T10:35:53.503Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/codenection2025-19a07/serviceAccounts/codenection2025-19a07@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'codenection2025-19a07'...
[info] 
[info] i  deploying functions 
[debug] [2025-09-23T10:35:53.512Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:53.514Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:53.514Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07 [none]
[debug] [2025-09-23T10:35:53.716Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07 200
[debug] [2025-09-23T10:35:53.716Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07 {"projectNumber":"177603922659","projectId":"codenection2025-19a07","lifecycleState":"ACTIVE","name":"Codenection2025","labels":{"firebase":"enabled","firebase-core":"disabled","generative-language":"enabled"},"createTime":"2025-09-17T05:24:27.145377Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-09-23T10:35:53.724Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:53.724Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:53.725Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/codenection2025-19a07/adminSdkConfig [none]
[debug] [2025-09-23T10:35:53.953Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/codenection2025-19a07/adminSdkConfig 200
[debug] [2025-09-23T10:35:53.955Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/codenection2025-19a07/adminSdkConfig {"projectId":"codenection2025-19a07","storageBucket":"codenection2025-19a07.firebasestorage.app"}
[debug] [2025-09-23T10:35:53.957Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:53.957Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:53.957Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs [none]
[debug] [2025-09-23T10:35:54.780Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs 200
[debug] [2025-09-23T10:35:54.782Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs {"configs":[{"name":"projects/codenection2025-19a07/configs/brevo"},{"name":"projects/codenection2025-19a07/configs/gemini"}]}
[debug] [2025-09-23T10:35:54.783Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:54.783Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:54.786Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:54.787Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:54.787Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/brevo/variables [none]
[debug] [2025-09-23T10:35:54.788Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/gemini/variables [none]
[debug] [2025-09-23T10:35:55.064Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/gemini/variables 200
[debug] [2025-09-23T10:35:55.065Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/gemini/variables {"variables":[{"name":"projects/codenection2025-19a07/configs/gemini/variables/api_key","updateTime":"2025-09-20T20:43:52.717778825Z"}]}
[debug] [2025-09-23T10:35:55.065Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:55.065Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:55.066Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/gemini/variables/api_key [none]
[debug] [2025-09-23T10:35:55.131Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/brevo/variables 200
[debug] [2025-09-23T10:35:55.134Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/brevo/variables {"variables":[{"name":"projects/codenection2025-19a07/configs/brevo/variables/key","updateTime":"2025-09-18T06:19:31.068465374Z"}]}
[debug] [2025-09-23T10:35:55.135Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:55.135Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:35:55.137Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/brevo/variables/key [none]
[debug] [2025-09-23T10:35:55.302Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/gemini/variables/api_key 200
[debug] [2025-09-23T10:35:55.302Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/gemini/variables/api_key {"name":"projects/codenection2025-19a07/configs/gemini/variables/api_key","updateTime":"2025-09-20T20:43:52.717778825Z","text":"AIzaSyA_nBh0R6CRGM3-dXFQ9CxZ0RBLX8FKzK0"}
[debug] [2025-09-23T10:35:55.341Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/brevo/variables/key 200
[debug] [2025-09-23T10:35:55.341Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codenection2025-19a07/configs/brevo/variables/key {"name":"projects/codenection2025-19a07/configs/brevo/variables/key","updateTime":"2025-09-18T06:19:31.068465374Z","text":"eyJhcGlfa2V5IjoieGtleXNpYi0zZDZiYTQxMTljMjEyNWVmOTIzNWFkZWIxYWNmYjgzYzE5NzU5ZjhmNDMxMTdhZTMxZDc5ZjA2MDFiZmRhYTc3LWQwZUZmY3pYQ1NUemlVQm0ifQ=="}
[debug] [2025-09-23T10:35:55.345Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-09-23T10:35:55.905Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "@google/generative-ai": "^0.24.1",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.1",
    "nodemailer": "^6.9.14",
    "puppeteer": "^22.12.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-09-23T10:35:55.905Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-09-23T10:35:55.908Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-09-23T10:35:55.919Z] Found firebase-functions binary at '/home/user/Codenection2025/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8035

[debug] [2025-09-23T10:35:56.453Z] Got response from /__/functions.yaml {"endpoints":{"chatAssistant":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","region":["us-central1"],"labels":{},"httpsTrigger":{},"entryPoint":"chatAssistant"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-09-23T10:36:00.500Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-09-23T10:36:00.500Z] > authorizing via signed-in user (jxfong357@gmail.com)
[debug] [2025-09-23T10:36:00.500Z] [iam] checking project codenection2025-19a07 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-09-23T10:36:00.500Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:00.500Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:00.501Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions [none]
[debug] [2025-09-23T10:36:00.501Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions x-goog-quota-user=projects/codenection2025-19a07
[debug] [2025-09-23T10:36:00.501Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-09-23T10:36:00.690Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions 200
[debug] [2025-09-23T10:36:00.693Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-09-23T10:36:00.694Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:00.694Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:00.696Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/codenection2025-19a07/instances pageSize=100&pageToken=
[debug] [2025-09-23T10:36:01.637Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/codenection2025-19a07/instances 200
[debug] [2025-09-23T10:36:01.637Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/codenection2025-19a07/instances {}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /home/user/Codenection2025/functions (84.66 KB) for uploading 
[debug] [2025-09-23T10:36:01.751Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:01.751Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:01.751Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/codenection2025-19a07/locations/-/functions [none]
[debug] [2025-09-23T10:36:02.511Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/codenection2025-19a07/locations/-/functions 200
[debug] [2025-09-23T10:36:02.511Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/codenection2025-19a07/locations/-/functions {}
[debug] [2025-09-23T10:36:02.511Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:02.512Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:02.512Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-09-23T10:36:03.794Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/-/functions 200
[debug] [2025-09-23T10:36:03.797Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/-/functions {"functions":[{"name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"build":"projects/177603922659/locations/us-central1/builds/9f4df35d-04d5-4131-b9ce-7657fc154ab1","runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623545430576"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"maxInstanceCount":20,"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00002-tug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-09-23T10:34:21.090471716Z","labels":{"firebase-functions-hash":"bc9748a8c9d00aa544d63c0ce128dad2c262955f","deployment-tool":"cli-firebase--project-idx"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","createTime":"2025-09-20T21:22:34.198661687Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-09-23T10:36:03.810Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:03.810Z] Checked if tokens are valid: true, expires at: 1758625737760
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-09-23T10:36:03.810Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:03.811Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:03.811Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-09-23T10:36:03.811Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/pubsub.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/177603922659
[debug] [2025-09-23T10:36:03.811Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/pubsub.googleapis.com:generateServiceIdentity {}
[debug] [2025-09-23T10:36:03.814Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-09-23T10:36:03.814Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/eventarc.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/177603922659
[debug] [2025-09-23T10:36:03.814Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/eventarc.googleapis.com:generateServiceIdentity {}
[debug] [2025-09-23T10:36:05.013Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-09-23T10:36:05.014Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-177603922659@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"106757931509064995825"}}
[debug] [2025-09-23T10:36:05.020Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-09-23T10:36:05.020Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/177603922659/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-177603922659@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"113734248418452431314"}}
[debug] [2025-09-23T10:36:05.034Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:05.034Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:05.034Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07 [none]
[debug] [2025-09-23T10:36:05.232Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07 200
[debug] [2025-09-23T10:36:05.235Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/codenection2025-19a07 {"projectNumber":"177603922659","projectId":"codenection2025-19a07","lifecycleState":"ACTIVE","name":"Codenection2025","labels":{"firebase":"enabled","firebase-core":"disabled","generative-language":"enabled"},"createTime":"2025-09-17T05:24:27.145377Z"}
[debug] [2025-09-23T10:36:05.236Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:05.242Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:05.242Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/177603922659 [none]
[debug] [2025-09-23T10:36:05.451Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/177603922659 403
[debug] [2025-09-23T10:36:05.455Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/177603922659 {"error":{"code":403,"message":"Compute Engine API has not been used in project 177603922659 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 177603922659 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"containerInfo":"177603922659","consumer":"projects/177603922659","serviceTitle":"Compute Engine API","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659","service":"compute.googleapis.com"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 177603922659 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659"}]}]}}
[debug] [2025-09-23T10:36:05.460Z] unable to look up default compute service account. Falling back to 177603922659-compute@developer.gserviceaccount.com. Error: {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":403,"message":"Compute Engine API has not been used in project 177603922659 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 177603922659 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"containerInfo":"177603922659","consumer":"projects/177603922659","serviceTitle":"Compute Engine API","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659","service":"compute.googleapis.com"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 177603922659 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659"}]}]}},"response":{"statusCode":403}},"exit":1,"message":"Request to https://compute.googleapis.com/compute/v1/projects/177603922659 had HTTP Error: 403, Compute Engine API has not been used in project 177603922659 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=177603922659 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","status":403}
[debug] [2025-09-23T10:36:05.464Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:05.465Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:05.465Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/codenection2025-19a07/billingInfo [none]
[debug] [2025-09-23T10:36:05.824Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/codenection2025-19a07/billingInfo 200
[debug] [2025-09-23T10:36:05.825Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/codenection2025-19a07/billingInfo {"name":"projects/codenection2025-19a07/billingInfo","projectId":"codenection2025-19a07","billingAccountName":"billingAccounts/0146CB-07DAE9-F82ED4","billingEnabled":true}
[debug] [2025-09-23T10:36:05.838Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:05.838Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:05.838Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-09-23T10:36:06.880Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-09-23T10:36:06.881Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-177603922659.us-central1.cloudfunctions.appspot.com/e42c8571-8db6-49e8-8b59-e3608feaf3b2.zip?GoogleAccessId=service-177603922659@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758625566&Signature=US2AQlU9AaL%2BiULerAwyLvgccLaNchhe0HE8G50ZQGhNYwV5MOsbXtbpjLlHR%2BgqqPUPFYC28clLfBgKdO%2B3eZJNu6lpxp11rbDOeLfxz6%2FEGNDNavDy%2BQsMQCSm8pHI5rYsyPGE8QTSXXe35YZi6Jlez4UZf%2BC3%2Fsorh2zTtbhwKHurbxd0eg37HzxNJRCbe6hMvk%2FCNb8uSQO0meuEBXg8nCBTWzMo6OzJ04ksY0I8VVkoUlm%2FArPdcADEXzBGxf1W4h1EA0zqt7GJQ8r61Yv6NehAxnWBSD4hGmT%2BoOi5IwXwhmnYrAL5tduwsAiTny66MEM1JhvEyvCGfS%2BbCg%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-177603922659.us-central1.cloudfunctions.appspot.com","object":"e42c8571-8db6-49e8-8b59-e3608feaf3b2.zip"}}
[debug] [2025-09-23T10:36:06.885Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-177603922659.us-central1.cloudfunctions.appspot.com/e42c8571-8db6-49e8-8b59-e3608feaf3b2.zip GoogleAccessId=service-177603922659%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1758625566&Signature=US2AQlU9AaL%2BiULerAwyLvgccLaNchhe0HE8G50ZQGhNYwV5MOsbXtbpjLlHR%2BgqqPUPFYC28clLfBgKdO%2B3eZJNu6lpxp11rbDOeLfxz6%2FEGNDNavDy%2BQsMQCSm8pHI5rYsyPGE8QTSXXe35YZi6Jlez4UZf%2BC3%2Fsorh2zTtbhwKHurbxd0eg37HzxNJRCbe6hMvk%2FCNb8uSQO0meuEBXg8nCBTWzMo6OzJ04ksY0I8VVkoUlm%2FArPdcADEXzBGxf1W4h1EA0zqt7GJQ8r61Yv6NehAxnWBSD4hGmT%2BoOi5IwXwhmnYrAL5tduwsAiTny66MEM1JhvEyvCGfS%2BbCg%3D%3D
[debug] [2025-09-23T10:36:06.885Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-177603922659.us-central1.cloudfunctions.appspot.com/e42c8571-8db6-49e8-8b59-e3608feaf3b2.zip [stream]
[debug] [2025-09-23T10:36:08.091Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-177603922659.us-central1.cloudfunctions.appspot.com/e42c8571-8db6-49e8-8b59-e3608feaf3b2.zip 200
[debug] [2025-09-23T10:36:08.098Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-177603922659.us-central1.cloudfunctions.appspot.com/e42c8571-8db6-49e8-8b59-e3608feaf3b2.zip [omitted]
[info] ✔  functions: functions source uploaded successfully 
[info] i  functions: updating Node.js 20 (2nd Gen) function chatAssistant(us-central1)... 
[debug] [2025-09-23T10:36:08.113Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:08.114Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:08.114Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels
[debug] [2025-09-23T10:36:08.114Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant {"name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-uploads-177603922659.us-central1.cloudfunctions.appspot.com","object":"e42c8571-8db6-49e8-8b59-e3608feaf3b2.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"49bbdedeb6c87825926e1dde7790341ad6d1bc7d"}}
[debug] [2025-09-23T10:36:09.823Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant 200
[debug] [2025-09-23T10:36:09.828Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:36:09.731769730Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-09-23T10:36:09.833Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:09.833Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:09.833Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a [none]
[debug] [2025-09-23T10:36:10.777Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a 200
[debug] [2025-09-23T10:36:10.781Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:36:09.731769730Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623769678575"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00002-tug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"49bbdedeb6c87825926e1dde7790341ad6d1bc7d"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/38973169-e378-42a7-86f4-ef623cc063a6?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6"},"done":false}
[debug] [2025-09-23T10:36:11.283Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:36:11.283Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:11.283Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:11.287Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a [none]
[debug] [2025-09-23T10:36:12.232Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a 200
[debug] [2025-09-23T10:36:12.232Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:36:09.731769730Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623769678575"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00002-tug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"49bbdedeb6c87825926e1dde7790341ad6d1bc7d"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/38973169-e378-42a7-86f4-ef623cc063a6?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6"},"done":false}
[debug] [2025-09-23T10:36:13.232Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:36:13.239Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:13.239Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:13.240Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a [none]
[debug] [2025-09-23T10:36:14.197Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a 200
[debug] [2025-09-23T10:36:14.201Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:36:09.731769730Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623769678575"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00002-tug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"49bbdedeb6c87825926e1dde7790341ad6d1bc7d"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/38973169-e378-42a7-86f4-ef623cc063a6?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6"},"done":false}
[debug] [2025-09-23T10:36:16.202Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:36:16.210Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:16.211Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:16.211Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a [none]
[debug] [2025-09-23T10:36:17.170Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a 200
[debug] [2025-09-23T10:36:17.170Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:36:09.731769730Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623769678575"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00002-tug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"49bbdedeb6c87825926e1dde7790341ad6d1bc7d"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/38973169-e378-42a7-86f4-ef623cc063a6?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6"},"done":false}
[debug] [2025-09-23T10:36:21.176Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:36:21.177Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:21.177Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:21.178Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a [none]
[debug] [2025-09-23T10:36:22.105Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a 200
[debug] [2025-09-23T10:36:22.110Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:36:09.731769730Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623769678575"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00002-tug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"49bbdedeb6c87825926e1dde7790341ad6d1bc7d"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/38973169-e378-42a7-86f4-ef623cc063a6?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6"},"done":false}
[debug] [2025-09-23T10:36:30.113Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:36:30.115Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:30.116Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:30.116Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a [none]
[debug] [2025-09-23T10:36:31.073Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a 200
[debug] [2025-09-23T10:36:31.076Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:36:09.731769730Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623769678575"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00002-tug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"49bbdedeb6c87825926e1dde7790341ad6d1bc7d"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/38973169-e378-42a7-86f4-ef623cc063a6?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6"},"done":false}
[debug] [2025-09-23T10:36:41.081Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:36:41.085Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:41.085Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:41.085Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a [none]
[debug] [2025-09-23T10:36:42.064Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a 200
[debug] [2025-09-23T10:36:42.071Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:36:09.731769730Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623769678575"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00002-tug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"49bbdedeb6c87825926e1dde7790341ad6d1bc7d"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/38973169-e378-42a7-86f4-ef623cc063a6?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6"},"done":false}
[debug] [2025-09-23T10:36:52.075Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:36:52.079Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:52.079Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:36:52.082Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a [none]
[debug] [2025-09-23T10:36:53.057Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a 200
[debug] [2025-09-23T10:36:53.061Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:36:09.731769730Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623769678575"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00002-tug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"49bbdedeb6c87825926e1dde7790341ad6d1bc7d"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/38973169-e378-42a7-86f4-ef623cc063a6?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6"},"done":false}
[debug] [2025-09-23T10:37:03.067Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:37:03.068Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:37:03.068Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:37:03.068Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a [none]
[debug] [2025-09-23T10:37:04.053Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a 200
[debug] [2025-09-23T10:37:04.053Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:36:09.731769730Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623769678575"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00002-tug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"49bbdedeb6c87825926e1dde7790341ad6d1bc7d"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/38973169-e378-42a7-86f4-ef623cc063a6?project=177603922659"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6"},"done":false}
[debug] [2025-09-23T10:37:14.061Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:37:14.063Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:37:14.063Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:37:14.063Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a [none]
[debug] [2025-09-23T10:37:15.027Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a 200
[debug] [2025-09-23T10:37:15.030Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:36:09.731769730Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623769678575"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00002-tug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"49bbdedeb6c87825926e1dde7790341ad6d1bc7d"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/38973169-e378-42a7-86f4-ef623cc063a6?project=177603922659"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/chatassistant?project=codenection2025-19a07","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Cldwcm9qZWN0cy8xNzc2MDM5MjI2NTkvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8zODk3MzE2OS1lMzc4LTQyYTctODZmNC1lZjYyM2NjMDYzYTYSfXVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2NvZGVuZWN0aW9uMjAyNS0xOWEwNy9nY2YtYXJ0aWZhY3RzL2NvZGVuZWN0aW9uMjAyNS0tMTlhMDdfX3VzLS1jZW50cmFsMV9fY2hhdF9hc3Npc3RhbnQ6dmVyc2lvbl8xGOOVk9CVBSJMcHJvamVjdHMvY29kZW5lY3Rpb24yMDI1LTE5YTA3L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvY2hhdEFzc2lzdGFudCoMCNfwycYGEJCY5YgCMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/177603922659/locations/us-central1/builds/38973169-e378-42a7-86f4-ef623cc063a6"},"done":false}
[debug] [2025-09-23T10:37:15.031Z] Got source token Cldwcm9qZWN0cy8xNzc2MDM5MjI2NTkvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8zODk3MzE2OS1lMzc4LTQyYTctODZmNC1lZjYyM2NjMDYzYTYSfXVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2NvZGVuZWN0aW9uMjAyNS0xOWEwNy9nY2YtYXJ0aWZhY3RzL2NvZGVuZWN0aW9uMjAyNS0tMTlhMDdfX3VzLS1jZW50cmFsMV9fY2hhdF9hc3Npc3RhbnQ6dmVyc2lvbl8xGOOVk9CVBSJMcHJvamVjdHMvY29kZW5lY3Rpb24yMDI1LTE5YTA3L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvY2hhdEFzc2lzdGFudCoMCNfwycYGEJCY5YgCMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-09-23T10:37:25.035Z] [update-default-us-central1-chatAssistant] Retrying task index 0
[debug] [2025-09-23T10:37:25.040Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:37:25.040Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:37:25.040Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a [none]
[debug] [2025-09-23T10:37:26.024Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a 200
[debug] [2025-09-23T10:37:26.027Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a {"name":"projects/codenection2025-19a07/locations/us-central1/operations/operation-1758623768991-63f75810b585f-1ef21b07-7ae68d0a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-09-23T10:36:09.731769730Z","endTime":"2025-09-23T10:37:22.983799392Z","target":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/codenection2025-19a07/locations/us-central1/functions/chatAssistant","buildConfig":{"runtime":"nodejs20","entryPoint":"chatAssistant","source":{"storageSource":{"bucket":"gcf-v2-sources-177603922659-us-central1","object":"chatAssistant/function-source.zip","generation":"1758623769678575"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/codenection2025-19a07/serviceAccounts/177603922659-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/codenection2025-19a07/locations/us-central1/services/chatassistant","timeoutSeconds":60,"environmentVariables":{"GEMINI_API_KEY":"AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo","FIREBASE_CONFIG":"{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}","GCLOUD_PROJECT":"codenection2025-19a07","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codenection2025-19a07/locations/us-central1/services/chatAssistant","FUNCTION_TARGET":"chatAssistant","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://chatassistant-o7g3kv7f7q-uc.a.run.app","serviceAccountEmail":"177603922659-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"chatassistant-00002-tug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"49bbdedeb6c87825926e1dde7790341ad6d1bc7d"},"environment":"GEN_2","url":"https://us-central1-codenection2025-19a07.cloudfunctions.net/chatAssistant","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service chatassistant, Container Healthcheck failed. Revision 'chatassistant-00003-buz' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=codenection2025-19a07&resource=cloud_run_revision/service_name/chatassistant/revision_name/chatassistant-00003-buz&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22chatassistant%22%0Aresource.labels.revision_name%3D%22chatassistant-00003-buz%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-09-23T10:37:26.028Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service chatassistant, Container Healthcheck failed. Revision 'chatassistant-00003-buz' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=codenection2025-19a07&resource=cloud_run_revision/service_name/chatassistant/revision_name/chatassistant-00003-buz&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22chatassistant%22%0Aresource.labels.revision_name%3D%22chatassistant-00003-buz%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-09-23T10:37:26.048Z] Total Function Deployment time: 77925
[debug] [2025-09-23T10:37:26.048Z] 1 Functions Deployed
[debug] [2025-09-23T10:37:26.048Z] 1 Functions Errored
[debug] [2025-09-23T10:37:26.048Z] 0 Function Deployments Aborted
[debug] [2025-09-23T10:37:26.048Z] Average Function Deployment time: 77923
[info] 
[info] Functions deploy had errors with the following functions:
	chatAssistant(us-central1)
[debug] [2025-09-23T10:37:26.100Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[debug] [2025-09-23T10:37:26.101Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:37:26.107Z] Checked if tokens are valid: true, expires at: 1758625737760
[debug] [2025-09-23T10:37:26.109Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-09-23T10:37:27.071Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-09-23T10:37:27.071Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts {"name":"projects/codenection2025-19a07/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-09-20T20:09:47.853453Z","updateTime":"2025-09-23T10:37:04.184630Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"sizeBytes":"120375572","vulnerabilityScanningConfig":{"lastEnableTime":"2025-09-20T20:09:39.563104096Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/codenection2025-19a07/gcf-artifacts"}
[debug] [2025-09-23T10:37:27.072Z] Functions deploy failed.
[debug] [2025-09-23T10:37:27.072Z] {
  "endpoint": {
    "id": "chatAssistant",
    "project": "codenection2025-19a07",
    "region": "us-central1",
    "entryPoint": "chatAssistant",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase--project-idx"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "GEMINI_API_KEY": "AIzaSyBYy-nxfkldONLTQCxHUBdghNy4Pjg6efo",
      "FIREBASE_CONFIG": "{\"projectId\":\"codenection2025-19a07\",\"storageBucket\":\"codenection2025-19a07.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "codenection2025-19a07",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/codenection2025-19a07/locations/us-central1/services/chatAssistant"
    },
    "codebase": "default",
    "runServiceId": "chatassistant",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "49bbdedeb6c87825926e1dde7790341ad6d1bc7d"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service chatassistant, Container Healthcheck failed. Revision 'chatassistant-00003-buz' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=codenection2025-19a07&resource=cloud_run_revision/service_name/chatassistant/revision_name/chatassistant-00003-buz&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22chatassistant%22%0Aresource.labels.revision_name%3D%22chatassistant-00003-buz%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service chatassistant, Container Healthcheck failed. Revision 'chatassistant-00003-buz' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=codenection2025-19a07&resource=cloud_run_revision/service_name/chatassistant/revision_name/chatassistant-00003-buz&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22chatassistant%22%0Aresource.labels.revision_name%3D%22chatassistant-00003-buz%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-09-23T10:37:27.079Z] Error: Failed to update function chatAssistant in region us-central1
    at /home/user/.global_modules/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:411:19
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.updateV2Function (/home/user/.global_modules/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:400:32)
    at async Fabricator.updateEndpoint (/home/user/.global_modules/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:160:13)
    at async handle (/home/user/.global_modules/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
